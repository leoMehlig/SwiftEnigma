//
//  StandardRotor.swift
//  Enigma
//
//  Created by Leonard Mehlig on 05/04/16.
//  Copyright Â© 2016 Leo Mehlig. All rights reserved.
//

public enum StandardRotor {
    case i, ii, iii
    
    public func component(with offset: Character = "a") -> RotorComponent {
        let map: [Int : Int]
        let outMap: [Int : Int]
        let turnover: Int
        
        switch self {
        case .i:
            map = [
                97 : 101,
                98 : 107,
                99 : 109,
                100 : 102,
                101 : 108,
                102 : 103,
                103 : 100,
                104 : 113,
                105 : 118,
                106 : 122,
                107 : 110,
                108 : 116,
                109 : 111,
                110 : 119,
                111 : 121,
                112 : 104,
                113 : 120,
                114 : 117,
                115 : 115,
                116 : 112,
                117 : 97,
                118 : 105,
                119 : 98,
                120 : 114,
                121 : 99,
                122 : 106
            ]
            outMap = [
                101 : 97,
                107 : 98,
                109 : 99,
                102 : 100,
                108 : 101,
                103 : 102,
                100 : 103,
                113 : 104,
                118 : 105,
                122 : 106,
                110 : 107,
                116 : 108,
                111 : 109,
                119 : 110,
                121 : 111,
                104 : 112,
                120 : 113,
                117 : 114,
                115 : 115,
                112 : 116,
                97 : 117,
                105 : 118,
                98 : 119,
                114 : 120,
                99 : 121,
                106 : 122
            ]
            turnover = 114
            
        case .ii:
            map = [
                97 : 97,
                98 : 106,
                99 : 100,
                100 : 107,
                101 : 115,
                102 : 105,
                103 : 114,
                104 : 117,
                105 : 120,
                106 : 98,
                107 : 108,
                108 : 104,
                109 : 119,
                110 : 116,
                111 : 109,
                112 : 99,
                113 : 113,
                114 : 103,
                115 : 122,
                116 : 110,
                117 : 112,
                118 : 121,
                119 : 102,
                120 : 118,
                121 : 111,
                122 : 101
            ]
            outMap = [
                97 : 97,
                106 : 98,
                100 : 99,
                107 : 100,
                115 : 101,
                105 : 102,
                114 : 103,
                117 : 104,
                120 : 105,
                98 : 106,
                108 : 107,
                104 : 108,
                119 : 109,
                116 : 110,
                109 : 111,
                99 : 112,
                113 : 113,
                103 : 114,
                122 : 115,
                110 : 116,
                112 : 117,
                121 : 118,
                102 : 119,
                118 : 120,
                111 : 121,
                101 : 122
            ]
            turnover = 102
            
        case .iii:
            map = [
                97 : 98,
                98 : 100,
                99 : 102,
                100 : 104,
                101 : 106,
                102 : 108,
                103 : 99,
                104 : 112,
                105 : 114,
                106 : 116,
                107 : 120,
                108 : 118,
                109 : 122,
                110 : 110,
                111 : 121,
                112 : 101,
                113 : 105,
                114 : 119,
                115 : 103,
                116 : 97,
                117 : 107,
                118 : 109,
                119 : 117,
                120 : 115,
                121 : 113,
                122 : 111
            ]
            outMap = [
                98 : 97,
                100 : 98,
                102 : 99,
                104 : 100,
                106 : 101,
                108 : 102,
                99 : 103,
                112 : 104,
                114 : 105,
                116 : 106,
                120 : 107,
                118 : 108,
                122 : 109,
                110 : 110,
                121 : 111,
                101 : 112,
                105 : 113,
                119 : 114,
                103 : 115,
                97 : 116,
                107 : 117,
                109 : 118,
                117 : 119,
                115 : 120,
                113 : 121,
                111 : 122
            ]
            turnover = 119
        }
        
        return RotorComponent(
            in: map,
            out: outMap,
            offset: Int(offset.unicodeScalar.value),
            position: 97,
            range: 97...122,
            turnover: turnover)
    }
}
